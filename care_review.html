<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>또가 - 관리자 페이지</title>
    <link rel="stylesheet" href="resources/css/index.min.css" />
    <link rel="stylesheet" href="resources/css/guide.min.css" />
    <link rel="stylesheet" href="resources/css/qna.min.css" />
    <link rel="stylesheet" href="resources/css/user.min.css" />
    <link rel="stylesheet" href="resources/css/care.min.css" />
    <script
      src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
  </head>

  <body>
    <div class="main-wrap">
      <!-- 좌측 고정 menu, index 제외한 전 페이지 공통 -->
      <div class="main-menu">
        <h1 class="main-logo">
          <a href="index.html"><img src="resources/img/logo.png" alt="" /></a>
        </h1>
        <div class="menu-wrap">
          <ul>
            <li class="menu-list">
              <a href="guide.html"><span>요양시설 가이드</span></a>
            </li>
            <li class="menu-list">
              <a href="qna.html"><span>Q&A 관리</span></a>
            </li>
            <li class="menu-list">
              <a href="care.html"
                ><span class="active">요양시설 조회관리</span></a
              >
            </li>
            <li class="menu-list">
              <a href="user.html"><span>회원관리</span></a>
            </li>
            <li class="menu-list">
              <a href="menu.html"><span>메뉴관리</span></a>
            </li>
            <li class="menu-list">
              <a href="auth.html"><span>권한관리</span></a>
            </li>
          </ul>
        </div>
        <div class="logout"><a href="index.html">로그아웃</a></div>
      </div>
      <!-- 좌측 고정 menu end -->

      <div class="content-wrap">
        <h1 class="content-title">
          <a href="care_detail.html">
            <span class="back-btn"></span>
          </a>
          <span>리뷰 관리</span>
        </h1>

        <!-- util-box 표시 영역 -->
        <div class="util-box">
          <div class="util__search">
            <div class="input-box">
              <p class="util__label">시설명</p>
              <p class="util__text">
                의료법인 미소들의료재단 미소들노인전문병원
              </p>
            </div>
            <!-- 콘텐츠, 인터뷰, 파노라마, 리뷰 4개 항목이 있을경우 util__text에 is, 
            없을 경우 none 클래스 -->
            <div class="input-box ml-2">
              <p class="util__label">특징 컨텐츠</p>
              <!-- 등록 미등록 표시 -->
              <p class="util__text none">미등록</p>
            </div>
            <div class="input-box ml-2">
              <p class="util__label">인터뷰</p>
              <!-- 등록 미등록 표시 -->
              <p class="util__text is">등록</p>
            </div>
            <div class="input-box ml-2">
              <p class="util__label">파노라마</p>
              <!-- n개 표시 -->
              <p class="util__text is">5개</p>
            </div>
            <div class="input-box ml-2">
              <p class="util__label">리뷰</p>
              <!-- n개 표시 -->
              <p class="util__text is">10개</p>
            </div>
          </div>
        </div>

        <!-- content 표시 영역 -->
        <div class="content-box">
          <h4>리뷰</h4>
          <div class="review-box">
            <div class="review-header">
              <div class="star-box">
                <p class="star-point">4.8</p>
                <div class="stars">
                  <!-- 점수에 따라 full, half로 별점 적용 
                  예) 3.5점 > full full full half -->
                  <span class="star full"></span>
                  <span class="star full"></span>
                  <span class="star full"></span>
                  <span class="star half"></span>
                  <span class="star"></span>
                </div>
              </div>
              <div class="point-gauge">
                <ul>
                  <!-- percentage에 퍼센트 string을 불러오면
                  자동으로 퍼센트 게이지 조절 -->
                  <li>
                    <p class="percentage">70%</p>
                    <div class="gauge-background">
                      <div class="gauge"></div>
                    </div>
                    <p class="point">5점</p>
                  </li>
                  <li>
                    <p class="percentage">19%</p>
                    <div class="gauge-background">
                      <div class="gauge"></div>
                    </div>
                    <p class="point">4점</p>
                  </li>
                  <li>
                    <p class="percentage">8%</p>
                    <div class="gauge-background">
                      <div class="gauge"></div>
                    </div>
                    <p class="point">3점</p>
                  </li>
                  <li>
                    <p class="percentage">2%</p>
                    <div class="gauge-background">
                      <div class="gauge"></div>
                    </div>
                    <p class="point">2점</p>
                  </li>
                  <li>
                    <p class="percentage">1%</p>
                    <div class="gauge-background">
                      <div class="gauge"></div>
                    </div>
                    <p class="point">1점</p>
                  </li>
                </ul>
              </div>
            </div>

            <div class="review-body">
              <div class="user-review">
                <div class="user-header">
                  <div class="user-image">
                    <div class="image-wrap">
                      <img src="resources/img/interview.jpg" alt="" />
                    </div>

                    <div class="user-info">
                      <p>산토끼</p>
                      <p class="date">한달 전</p>
                    </div>
                    <span class="reported">신고된 콘텐츠 (12)</span>
                  </div>

                  <div class="reply-util">
                    <button class="btn sub-btn _temp-open">리뷰 숨김</button>
                    <!-- 공개 확인 버튼, active로 활성화 -->
                    <div class="reply-util-confirm _temp-reply-open">
                      <span
                        class="confirm-btn confirm__cancel _temp-close-reply"
                      ></span>
                      <span
                        class="confirm-btn confirm__apply _temp-close-reply"
                      ></span>
                    </div>
                  </div>
                </div>

                <div class="user-text">
                  <p>
                    장기요양인정 신청이 접수되면 국민건강보험공단 직원은
                    인정조사 계획을 수립하여 순차적, 체계적으로 신청인을 직접
                    방문합니다. 국민건강보험공단 직원은 인정조사 계획 수립 시
                    신청인 측과 미리 연락 하여 방문 할 장소와 일시를 정합니다.
                  </p>
                </div>

                <!-- 답변이 있을 경우에만 존재 -->
                <div class="reply-text">
                  <p>
                    장기요양인정 신청이 접수되면 국민건강보험공단 직원은
                    인정조사 계획을 수립하여 순차적, 체계적으로 신청인을 직접
                    방문합니다. 국민건강보험공단 직원은 인정조사 계획 수립 시
                    신청인 측과 미리 연락 하여 방문 할 장소와 일시를 정합니다.
                  </p>
                </div>
                <div class="detail-info">
                  <span>산토끼</span>
                  <span class="divider"></span>
                  <span>2020-11-15</span>
                  <span class="divider"></span>
                  <span>도움</span>
                  <span>5</span>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- content 표시 영역 end -->
      </div>
    </div>

    <script>
      // 게이지와 퍼센테이지 dom 배열변수
      var gauge = $(".gauge");
      var percentage = $(".percentage");

      // css높이 자동 적용 함수
      function getPercentage(elem, i, height) {
        elem.style.height = height;
      }

      //DOM 로드 이후에 5번 자동 적용 함수 실행
      document.addEventListener("DOMContentLoaded", function () {
        for (let i = 0; i < gauge.length; i++) {
          getPercentage(gauge[i], i, percentage[i].innerText);
        }
      });

      // 답변 숨김 확인창 오픈
      $("._temp-open").click(function () {
        $("._temp-reply-open").addClass("active");
      });

      // 답변 숨김 확인창 닫기
      $("._temp-close-reply").click(function () {
        $("._temp-reply-hide").removeClass("active");
        $("._temp-reply-open").removeClass("active");
      });
    </script>
  </body>
</html>
